Mapping
Mapping item 0
Mapping item 1
Mapping item 2
Mapping item 3
Mapping item 4
Mapping item 5
Mapping item 6
Mapping item 7
Mapping item 8
Mapping item 9
Mapping item 10
Mapping item 11
Mapping item 12
Mapping item 13
Mapping item 14
Mapping item 15
Mapping item 16
Mapping item 17
Mapping item 18
Mapping item 19
Mapping item 20
Mapping item 21
Mapping item 22
Mapping item 23
Mapping item 24
Mapping item 25
Mapping item 26
Mapping item 27
Mapping item 28
Mapping item 29
Mapping item 30
Mapping item 31
Mapping item 32
Mapping item 33
Mapping item 34
Mapping item 35
Mapping item 36
Mapping item 37
Mapping item 38
Mapping item 39
Mapping item 40
Mapping item 41
Mapping item 42
Mapping item 43
Mapping item 44
Mapping item 45
Mapping item 46
Mapping item 47
Mapping item 48
Mapping item 49
Mapping item 50
Mapping item 51
Mapping item 52
Mapping item 53
Mapping item 54
Mapping item 55
Mapping item 56
Mapping item 57
Mapping item 58
Mapping item 59
Mapping item 60
Mapping item 61
Mapping item 62
Mapping item 63
Mapping item 64
Mapping item 65
Mapping item 66
Mapping item 67
Mapping item 68
Mapping item 69
Mapping item 70
Mapping item 71
Mapping item 72
Mapping item 73
Mapping item 74
Mapping item 75
Mapping item 76
Mapping item 77
Mapping item 78
Mapping item 79
Mapping item 80
Mapping item 81
Mapping item 82
Mapping item 83
Mapping item 84
Mapping item 85
Mapping item 86
Mapping item 87
Mapping item 88
Mapping item 89
Mapping item 90
Mapping item 91
Mapping item 92
Mapping item 93
Mapping item 94
Mapping item 95
Mapping item 96
Mapping item 97
Mapping item 98
Mapping item 99
Done mapping
Setting up [LPIPS] perceptual loss: trunk [alex], v[0.1], spatial [off]
Loading model from: /Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/lpips/weights/v0.1/alex.pth
/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torchvision/models/_utils.py:208: UserWarning: The parameter 'pretrained' is deprecated since 0.13 and may be removed in the future, please use 'weights' instead.
  warnings.warn(
/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torchvision/models/_utils.py:223: UserWarning: Arguments other than a weight enum or `None` for 'weights' are deprecated since 0.13 and may be removed in the future. The current behavior is equivalent to passing `weights=AlexNet_Weights.IMAGENET1K_V1`. You can also use `weights=AlexNet_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
Keyword arguments {'device': 'cuda:0'} are not expected by StableDiffusionPipeline and will be ignored.
Loading pipeline components...:  71%|███████████████████████████████████████████████████████████████████▊                           | 5/7 [00:02<00:00,  3.19it/s]`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["id2label"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["bos_token_id"]` will be overriden.
`text_config_dict` is provided which will be used to initialize `CLIPTextConfig`. The value `text_config["eos_token_id"]` will be overriden.
Loading consistency decoder
Loading pipeline components...: 100%|███████████████████████████████████████████████████████████████████████████████████████████████| 7/7 [00:03<00:00,  2.20it/s]
Consistency decoder loaded
Traceback (most recent call last):
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/_utils/collate.py", line 127, in collate
    return elem_type({key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem})
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/_utils/collate.py", line 127, in <dictcomp>
    return elem_type({key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem})
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/_utils/collate.py", line 150, in collate
    raise TypeError(default_collate_err_msg_format.format(elem_type))
TypeError: default_collate: batch must contain tensors, numpy arrays, numbers, dicts or lists; found <class 'PIL.JpegImagePlugin.JpegImageFile'>
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
  File "/Users/nicholasbardy/git/sdxl_consistency/train.py", line 240, in <module>
    train()
  File "/Users/nicholasbardy/git/sdxl_consistency/train.py", line 199, in train
    for step, batch in enumerate(train_dataloader):
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/dataloader.py", line 633, in __next__
    data = self._next_data()
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/dataloader.py", line 677, in _next_data
    data = self._dataset_fetcher.fetch(index)  # may raise StopIteration
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/_utils/fetch.py", line 54, in fetch
    return self.collate_fn(data)
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/_utils/collate.py", line 265, in default_collate
    return collate(batch, collate_fn_map=default_collate_fn_map)
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/_utils/collate.py", line 130, in collate
    return {key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem}
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/_utils/collate.py", line 130, in <dictcomp>
    return {key: collate([d[key] for d in batch], collate_fn_map=collate_fn_map) for key in elem}
  File "/Users/nicholasbardy/.pyenv/versions/3.9.9/lib/python3.9/site-packages/torch/utils/data/_utils/collate.py", line 150, in collate
    raise TypeError(default_collate_err_msg_format.format(elem_type))
TypeError: default_collate: batch must contain tensors, numpy arrays, numbers, dicts or lists; found <class 'PIL.JpegImagePlugin.JpegImageFile'>